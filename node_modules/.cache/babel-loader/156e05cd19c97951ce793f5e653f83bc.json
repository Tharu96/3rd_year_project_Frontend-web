{"remainingRequest":"G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\20-07-01\\frontend-web\\node_modules\\babel-loader\\lib\\index.js!G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\20-07-01\\frontend-web\\node_modules\\eslint-loader\\index.js??ref--13-0!G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\20-07-01\\frontend-web\\src\\views\\AdminDashboard\\auth.service.js","dependencies":[{"path":"G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\20-07-01\\frontend-web\\src\\views\\AdminDashboard\\auth.service.js","mtime":1593622184124},{"path":"G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\20-07-01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\20-07-01\\frontend-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\20-07-01\\frontend-web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJHOi9BQ0FERU1JQy9DQU1QVVMvM3JkeXIvcHJvamVjdHMvMjAtMDctMDEvZnJvbnRlbmQtd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRzovQUNBREVNSUMvQ0FNUFVTLzNyZHlyL3Byb2plY3RzLzIwLTA3LTAxL2Zyb250ZW5kLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwp2YXIgQVBJX1VSTCA9ICdodHRwOi8vbG9jYWxob3N0OjgwODEvJzsKCnZhciBBdXRoU2VydmljZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQXV0aFNlcnZpY2UoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXV0aFNlcnZpY2UpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEF1dGhTZXJ2aWNlLCBbewogICAga2V5OiAibG9naW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ2luKHVzZXIpIHsKICAgICAgY29uc29sZS5sb2codXNlci5lbWFpbCk7CiAgICAgIGNvbnNvbGUubG9nKHVzZXIucGFzc3dvcmQpOwogICAgICByZXR1cm4gYXhpb3MucG9zdChBUElfVVJMICsgJ2xvZ2luJywgewogICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLAogICAgICAgIHBhc3N3b3JkOiB1c2VyLnBhc3N3b3JkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5kYXRhLmFjY2Vzc190b2tlbikgewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5kYXRhLmFjY2Vzc190b2tlbik7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEuZGF0YSkpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9nb3V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVnaXN0ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyKHVzZXIpIHsKICAgICAgY29uc29sZS5sb2codXNlci5lbWFpbCk7CiAgICAgIGNvbnNvbGUubG9nKHVzZXIucGFzc3dvcmQpOwogICAgICByZXR1cm4gYXhpb3MucG9zdChBUElfVVJMICsgJ3JlZ2lzdGVyJywgewogICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLAogICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLAogICAgICAgIHBhc3N3b3JkOiB1c2VyLnBhc3N3b3JkCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInBlbmRpbmdTaG9wUmVnaXN0ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHBlbmRpbmdTaG9wUmVnaXN0ZXIoc2hvcCkgewogICAgICBjb25zb2xlLmxvZyhzaG9wLnNob3BuYW1lKTsKICAgICAgY29uc29sZS5sb2coc2hvcC5lbWFpbCk7CiAgICAgIGNvbnNvbGUubG9nKHNob3AucGFzc3dvcmQpOwogICAgICByZXR1cm4gYXhpb3MucG9zdChBUElfVVJMICsgJ3BlbmRpbmdfc2hvcHMnLCB7CiAgICAgICAgc2hvcF9uYW1lOiBzaG9wLnNob3BuYW1lLAogICAgICAgIGxvY2F0aW9uOiBzaG9wLmxvY2F0aW9uLAogICAgICAgIGJ1c2luZXNzUmVnTm86IHNob3AuYmlkLAogICAgICAgIG1vYmlsZV9ubzogc2hvcC5tb2JpbGVfbm8sCiAgICAgICAgZW1haWw6IHNob3AuZW1haWwsCiAgICAgICAgc2hvcF9vd25lcl9uYW1lOiBzaG9wLnNob3Bfb3duZXJfbmFtZSwKICAgICAgICBuaWM6IHNob3AubmljLAogICAgICAgIHBhc3N3b3JkOiBzaG9wLnBhc3N3b3JkCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEFsbFBlbmRpbmdTaG9wcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsUGVuZGluZ1Nob3BzKCkgewogICAgICByZXR1cm4gYXhpb3MuZ2V0KEFQSV9VUkwgKyAncGVuZGluZ19zaG9wcy91bl9wdWJsaXNoZWQnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhY2NlcHRQZW5kaW5nU2hvcCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWNjZXB0UGVuZGluZ1Nob3AodXVpZCkgewogICAgICBjb25zb2xlLmxvZyh1dWlkKTsKICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoQVBJX1VSTCArICdwZW5kaW5nX3Nob3BzL3t1dWlkfScpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEF1dGhTZXJ2aWNlOwp9KCk7CgpleHBvcnQgZGVmYXVsdCBuZXcgQXV0aFNlcnZpY2UoKTs="},{"version":3,"sources":["G:/ACADEMIC/CAMPUS/3rdyr/projects/20-07-01/frontend-web/src/views/AdminDashboard/auth.service.js"],"names":["axios","API_URL","AuthService","user","console","log","email","password","post","then","response","data","access_token","localStorage","setItem","JSON","stringify","removeItem","username","shop","shopname","shop_name","location","businessRegNo","bid","mobile_no","shop_owner_name","nic","get","uuid"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,OAAO,GAAG,wBAAhB;;IAEMC,W;;;;;;;0BACEC,I,EAAM;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,KAAjB;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACI,QAAjB;AACA,aAAOP,KAAK,CACTQ,IADI,CACCP,OAAO,GAAG,OADX,EACoB;AACvBK,QAAAA,KAAK,EAAEH,IAAI,CAACG,KADW;AAEvBC,QAAAA,QAAQ,EAAEJ,IAAI,CAACI;AAFQ,OADpB,EAOJE,IAPI,CAOC,UAAAC,QAAQ,EAAI;AACdN,QAAAA,OAAO,CAACC,GAAR,CAAYK,QAAZ;;AACF,YAAIA,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBC,YAAvB,EAAqC;AACjCR,UAAAA,OAAO,CAACC,GAAR,CAAYK,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBC,YAA/B;AACFC,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeN,QAAQ,CAACC,IAAT,CAAcA,IAA7B,CAA7B;AACD;;AAED,eAAOD,QAAQ,CAACC,IAAT,CAAcA,IAArB;AACD,OAfI,CAAP;AAgBD;;;6BAEQ;AACPE,MAAAA,YAAY,CAACI,UAAb,CAAwB,MAAxB;AACD;;;6BAEQd,I,EAAM;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,KAAjB;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACI,QAAjB;AACA,aAAOP,KAAK,CAACQ,IAAN,CAAWP,OAAO,GAAG,UAArB,EAAiC;AACtCiB,QAAAA,QAAQ,EAAEf,IAAI,CAACe,QADuB;AAEtCZ,QAAAA,KAAK,EAAEH,IAAI,CAACG,KAF0B;AAGtCC,QAAAA,QAAQ,EAAEJ,IAAI,CAACI;AAHuB,OAAjC,CAAP;AAKD;;;wCAEmBY,I,EAAM;AACxBf,MAAAA,OAAO,CAACC,GAAR,CAAYc,IAAI,CAACC,QAAjB;AACAhB,MAAAA,OAAO,CAACC,GAAR,CAAYc,IAAI,CAACb,KAAjB;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAYc,IAAI,CAACZ,QAAjB;AACA,aAAOP,KAAK,CAACQ,IAAN,CAAWP,OAAO,GAAG,eAArB,EAAsC;AAC3CoB,QAAAA,SAAS,EAAEF,IAAI,CAACC,QAD2B;AAE3CE,QAAAA,QAAQ,EAAEH,IAAI,CAACG,QAF4B;AAG3CC,QAAAA,aAAa,EAAGJ,IAAI,CAACK,GAHsB;AAI3CC,QAAAA,SAAS,EAAGN,IAAI,CAACM,SAJ0B;AAK3CnB,QAAAA,KAAK,EAAGa,IAAI,CAACb,KAL8B;AAM3CoB,QAAAA,eAAe,EAAGP,IAAI,CAACO,eANoB;AAO3CC,QAAAA,GAAG,EAAGR,IAAI,CAACQ,GAPgC;AAQ3CpB,QAAAA,QAAQ,EAAGY,IAAI,CAACZ;AAR2B,OAAtC,CAAP;AAUD;;;yCAEmB;AAClB,aAAOP,KAAK,CAAC4B,GAAN,CAAU3B,OAAO,GAAG,4BAApB,CAAP;AACD;;;sCAEiB4B,I,EAAK;AACrBzB,MAAAA,OAAO,CAACC,GAAR,CAAYwB,IAAZ;AACA,aAAO7B,KAAK,CAACQ,IAAN,CAAWP,OAAO,GAAG,sBAArB,CAAP;AACD;;;;;;AAGH,eAAe,IAAIC,WAAJ,EAAf","sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:8081/';\r\n\r\nclass AuthService {\r\n  login(user) {\r\n    console.log(user.email);\r\n    console.log(user.password);\r\n    return axios\r\n      .post(API_URL + 'login', {\r\n        email: user.email,\r\n        password: user.password\r\n       \r\n\r\n      })\r\n      .then(response => {\r\n          console.log(response);\r\n        if (response.data.data.access_token) {\r\n            console.log(response.data.data.access_token); \r\n          localStorage.setItem('user', JSON.stringify(response.data.data));\r\n        }\r\n\r\n        return response.data.data;\r\n      });\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem('user');\r\n  }\r\n\r\n  register(user) {\r\n    console.log(user.email);\r\n    console.log(user.password);\r\n    return axios.post(API_URL + 'register', {\r\n      username: user.username,\r\n      email: user.email,\r\n      password: user.password\r\n    });\r\n  }\r\n\r\n  pendingShopRegister(shop) {\r\n    console.log(shop.shopname);\r\n    console.log(shop.email);\r\n    console.log(shop.password);\r\n    return axios.post(API_URL + 'pending_shops', {\r\n      shop_name :shop.shopname,\r\n      location :shop.location,\r\n      businessRegNo : shop.bid,\r\n      mobile_no : shop.mobile_no,\r\n      email : shop.email,\r\n      shop_owner_name : shop.shop_owner_name,\r\n      nic : shop.nic,\r\n      password : shop.password\r\n    });\r\n  }\r\n\r\n  getAllPendingShops(){\r\n    return axios.get(API_URL + 'pending_shops/un_published');\r\n  }\r\n\r\n  acceptPendingShop(uuid){\r\n    console.log(uuid);\r\n    return axios.post(API_URL + 'pending_shops/{uuid}');\r\n  }\r\n}\r\n\r\nexport default new AuthService();"]}]}