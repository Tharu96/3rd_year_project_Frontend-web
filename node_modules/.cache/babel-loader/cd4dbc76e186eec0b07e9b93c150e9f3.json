{"remainingRequest":"G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\gedaratamatharu\\gedaratama\\node_modules\\babel-loader\\lib\\index.js!G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\gedaratamatharu\\gedaratama\\node_modules\\eslint-loader\\index.js??ref--13-0!G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\gedaratamatharu\\gedaratama\\src\\services\\auth.service.js","dependencies":[{"path":"G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\gedaratamatharu\\gedaratama\\src\\services\\auth.service.js","mtime":1591032569668},{"path":"G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\gedaratamatharu\\gedaratama\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\gedaratamatharu\\gedaratama\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\gedaratamatharu\\gedaratama\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJHOi9BQ0FERU1JQy9DQU1QVVMvM3JkeXIvcHJvamVjdHMvZ2VkYXJhdGFtYXRoYXJ1L2dlZGFyYXRhbWEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJHOi9BQ0FERU1JQy9DQU1QVVMvM3JkeXIvcHJvamVjdHMvZ2VkYXJhdGFtYXRoYXJ1L2dlZGFyYXRhbWEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKdmFyIEFQSV9VUkwgPSAnaHR0cDovL2xvY2FsaG9zdDo4MDgxLyc7Cgp2YXIgQXV0aFNlcnZpY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEF1dGhTZXJ2aWNlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF1dGhTZXJ2aWNlKTsKICB9CgogIF9jcmVhdGVDbGFzcyhBdXRoU2VydmljZSwgW3sKICAgIGtleTogImxvZ2luIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dpbih1c2VyKSB7CiAgICAgIGNvbnNvbGUubG9nKHVzZXIuZW1haWwpOwogICAgICBjb25zb2xlLmxvZyh1c2VyLnBhc3N3b3JkKTsKICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoQVBJX1VSTCArICdsb2dpbicsIHsKICAgICAgICBlbWFpbDogdXNlci5lbWFpbCwKICAgICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YS5hY2Nlc3NfdG9rZW4pIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuZGF0YS5hY2Nlc3NfdG9rZW4pOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhLmRhdGEpKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImxvZ291dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlZ2lzdGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3Rlcih1c2VyKSB7CiAgICAgIGNvbnNvbGUubG9nKHVzZXIuZW1haWwpOwogICAgICBjb25zb2xlLmxvZyh1c2VyLnBhc3N3b3JkKTsKICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoQVBJX1VSTCArICdyZWdpc3RlcicsIHsKICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSwKICAgICAgICBlbWFpbDogdXNlci5lbWFpbCwKICAgICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZAogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzaG9wUmVnaXN0ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNob3BSZWdpc3RlcihzaG9wKSB7CiAgICAgIGNvbnNvbGUubG9nKHNob3Auc2hvcG5hbWUpOwogICAgICBjb25zb2xlLmxvZyhzaG9wLmVtYWlsKTsKICAgICAgY29uc29sZS5sb2coc2hvcC5wYXNzd29yZCk7CiAgICAgIHJldHVybiBheGlvcy5wb3N0KEFQSV9VUkwgKyAncmVnaXN0ZXInLCB7CiAgICAgICAgc2hvcG5hbWU6IHNob3Auc2hvcG5hbWUsCiAgICAgICAgbG9jYXRpb246IHNob3AubG9jYXRpb24sCiAgICAgICAgYmlkOiBzaG9wLmJpZCwKICAgICAgICBtb2JpbGVfbm86IHNob3AubW9iaWxlX25vLAogICAgICAgIGVtYWlsOiBzaG9wLmVtYWlsLAogICAgICAgIHNob3Bfb3duZXJfbmFtZTogc2hvcC5zaG9wX293bmVyX25hbWUsCiAgICAgICAgbmljOiBzaG9wLm5pYywKICAgICAgICBwYXNzd29yZDogc2hvcC5wYXNzd29yZAogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBBdXRoU2VydmljZTsKfSgpOwoKZXhwb3J0IGRlZmF1bHQgbmV3IEF1dGhTZXJ2aWNlKCk7"},{"version":3,"sources":["G:/ACADEMIC/CAMPUS/3rdyr/projects/gedaratamatharu/gedaratama/src/services/auth.service.js"],"names":["axios","API_URL","AuthService","user","console","log","email","password","post","then","response","data","access_token","localStorage","setItem","JSON","stringify","removeItem","username","shop","shopname","location","bid","mobile_no","shop_owner_name","nic"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,OAAO,GAAG,wBAAhB;;IAEMC,W;;;;;;;0BACEC,I,EAAM;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,KAAjB;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACI,QAAjB;AACA,aAAOP,KAAK,CACTQ,IADI,CACCP,OAAO,GAAG,OADX,EACoB;AACvBK,QAAAA,KAAK,EAAEH,IAAI,CAACG,KADW;AAEvBC,QAAAA,QAAQ,EAAEJ,IAAI,CAACI;AAFQ,OADpB,EAOJE,IAPI,CAOC,UAAAC,QAAQ,EAAI;AACdN,QAAAA,OAAO,CAACC,GAAR,CAAYK,QAAZ;;AACF,YAAIA,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBC,YAAvB,EAAqC;AACjCR,UAAAA,OAAO,CAACC,GAAR,CAAYK,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBC,YAA/B;AACFC,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeN,QAAQ,CAACC,IAAT,CAAcA,IAA7B,CAA7B;AACD;;AAED,eAAOD,QAAQ,CAACC,IAAT,CAAcA,IAArB;AACD,OAfI,CAAP;AAgBD;;;6BAEQ;AACPE,MAAAA,YAAY,CAACI,UAAb,CAAwB,MAAxB;AACD;;;6BAEQd,I,EAAM;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,KAAjB;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACI,QAAjB;AACA,aAAOP,KAAK,CAACQ,IAAN,CAAWP,OAAO,GAAG,UAArB,EAAiC;AACtCiB,QAAAA,QAAQ,EAAEf,IAAI,CAACe,QADuB;AAEtCZ,QAAAA,KAAK,EAAEH,IAAI,CAACG,KAF0B;AAGtCC,QAAAA,QAAQ,EAAEJ,IAAI,CAACI;AAHuB,OAAjC,CAAP;AAKD;;;iCAEYY,I,EAAM;AACjBf,MAAAA,OAAO,CAACC,GAAR,CAAYc,IAAI,CAACC,QAAjB;AACAhB,MAAAA,OAAO,CAACC,GAAR,CAAYc,IAAI,CAACb,KAAjB;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAYc,IAAI,CAACZ,QAAjB;AACA,aAAOP,KAAK,CAACQ,IAAN,CAAWP,OAAO,GAAG,UAArB,EAAiC;AACtCmB,QAAAA,QAAQ,EAAED,IAAI,CAACC,QADuB;AAEtCC,QAAAA,QAAQ,EAAEF,IAAI,CAACE,QAFuB;AAGtCC,QAAAA,GAAG,EAAGH,IAAI,CAACG,GAH2B;AAItCC,QAAAA,SAAS,EAAGJ,IAAI,CAACI,SAJqB;AAKtCjB,QAAAA,KAAK,EAAGa,IAAI,CAACb,KALyB;AAMtCkB,QAAAA,eAAe,EAAGL,IAAI,CAACK,eANe;AAOtCC,QAAAA,GAAG,EAAGN,IAAI,CAACM,GAP2B;AAQtClB,QAAAA,QAAQ,EAAGY,IAAI,CAACZ;AARsB,OAAjC,CAAP;AAUD;;;;;;AAGH,eAAe,IAAIL,WAAJ,EAAf","sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:8081/';\r\n\r\nclass AuthService {\r\n  login(user) {\r\n    console.log(user.email);\r\n    console.log(user.password);\r\n    return axios\r\n      .post(API_URL + 'login', {\r\n        email: user.email,\r\n        password: user.password\r\n       \r\n\r\n      })\r\n      .then(response => {\r\n          console.log(response);\r\n        if (response.data.data.access_token) {\r\n            console.log(response.data.data.access_token); \r\n          localStorage.setItem('user', JSON.stringify(response.data.data));\r\n        }\r\n\r\n        return response.data.data;\r\n      });\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem('user');\r\n  }\r\n\r\n  register(user) {\r\n    console.log(user.email);\r\n    console.log(user.password);\r\n    return axios.post(API_URL + 'register', {\r\n      username: user.username,\r\n      email: user.email,\r\n      password: user.password\r\n    });\r\n  }\r\n\r\n  shopRegister(shop) {\r\n    console.log(shop.shopname);\r\n    console.log(shop.email);\r\n    console.log(shop.password);\r\n    return axios.post(API_URL + 'register', {\r\n      shopname :shop.shopname,\r\n      location :shop.location,\r\n      bid : shop.bid,\r\n      mobile_no : shop.mobile_no,\r\n      email : shop.email,\r\n      shop_owner_name : shop.shop_owner_name,\r\n      nic : shop.nic,\r\n      password : shop.password\r\n    });\r\n  }\r\n}\r\n\r\nexport default new AuthService();"]}]}