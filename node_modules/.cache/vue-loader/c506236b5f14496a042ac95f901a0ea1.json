{"remainingRequest":"G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\20-07-01\\frontend-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\20-07-01\\frontend-web\\src\\views\\AdminDashboard\\Pending_shops.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\20-07-01\\frontend-web\\src\\views\\AdminDashboard\\Pending_shops.vue","mtime":1593788660243},{"path":"G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\20-07-01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\20-07-01\\frontend-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\20-07-01\\frontend-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\ACADEMIC\\CAMPUS\\3rdyr\\projects\\20-07-01\\frontend-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQXV0aFNlcnZpY2UgZnJvbSAiLi9hdXRoLnNlcnZpY2UiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogew0KICAgIHRhYmxlSGVhZGVyQ29sb3I6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICIiDQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBwZW5kaW5nX3Nob3BzOltdLA0KICAgICAgIHN1Y2Nlc3NmdWw6IGZhbHNlLA0KICAgICAgbWVzc2FnZTogIiINCiAgICB9Ow0KICB9LA0KDQogICBtb3VudGVkKCkgew0KICAgIHRoaXMucmV0cmlldmVQZW5kaW5nU2hvcHMoKTsNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgcmV0cmlldmVQZW5kaW5nU2hvcHMoKSB7DQogICAgICBBdXRoU2VydmljZS5nZXRBbGxQZW5kaW5nU2hvcHMoKQ0KICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgdGhpcy5wZW5kaW5nX3Nob3BzID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGUpOw0KICAgICAgICB9KTsNCiAgICB9LA0KDQogICAgYWNjZXB0UGVuZGluZ1Nob3AodXVpZCl7DQogICAgICBjb25zb2xlLmxvZyh1dWlkKTsNCiAgICAgICB0aGlzLm1lc3NhZ2UgPSAiIjsNCiAgICAgICBBdXRoU2VydmljZS5hY2NlcHRQZW5kaW5nU2hvcCh1dWlkKQ0KICAgICAgICAudGhlbihkYXRhID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gZGF0YS5tZXNzYWdlOw0KICAgICAgICAgICAgICB0aGlzLnN1Y2Nlc3NmdWwgPSB0cnVlOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGVycm9yID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0NCiAgICAgICAgICAgICAgICAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuZGF0YSkgfHwNCiAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlIHx8DQogICAgICAgICAgICAgICAgZXJyb3IudG9TdHJpbmcoKTsNCiAgICAgICAgICAgICAgdGhpcy5zdWNjZXNzZnVsID0gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgICk7DQogICAgfSwNCiAgICBkZWxldGVQZW5kaW5nU2hvcCh1dWlkKXsNCiAgICAgIGNvbnNvbGUubG9nKHV1aWQpOw0KICAgICAgIHRoaXMubWVzc2FnZSA9ICIiOw0KICAgICAgIEF1dGhTZXJ2aWNlLmRlbGV0ZVBlbmRpbmdTaG9wKHV1aWQpDQogICAgICAgIC50aGVuKGRhdGEgPT4gew0KICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBkYXRhLm1lc3NhZ2U7DQogICAgICAgICAgICAgIHRoaXMuc3VjY2Vzc2Z1bCA9IHRydWU7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZXJyb3IgPT4gew0KICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPQ0KICAgICAgICAgICAgICAgIChlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5kYXRhKSB8fA0KICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgfHwNCiAgICAgICAgICAgICAgICBlcnJvci50b1N0cmluZygpOw0KICAgICAgICAgICAgICB0aGlzLnN1Y2Nlc3NmdWwgPSBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgKTsNCiAgICB9DQoNCiAgfQ0KDQogDQogIA0KICANCiAgICANCiANCn07DQo="},{"version":3,"sources":["Pending_shops.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AAOA","file":"Pending_shops.vue","sourceRoot":"src/views/AdminDashboard","sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <div class=\"md-layout\">\r\n      <div class=\"md-layout-item md-medium-size-100 md-xsmall-size-100 md-size-100\">\r\n        <md-card class=\"md-card-plain\">\r\n          <md-card-header data-background-color=\"purple\">\r\n            <h4 class=\"title\">Pending Shop Requests</h4>\r\n            <p class=\"category\">Check Validity of Shops</p>\r\n          </md-card-header>\r\n          <md-card-content>\r\n            <div>\r\n              <md-table v-model=\"pending_shops\" :table-header-color=\"tableHeaderColor\">\r\n                <md-table-row slot=\"md-table-row\" slot-scope=\"{ item }\">\r\n                  <md-table-cell md-label=\"Unique User Id\">{{ item.uuid }}</md-table-cell>\r\n                  <md-table-cell md-label=\"Shop Name\">{{ item.shop_name }}</md-table-cell>\r\n                  <md-table-cell md-label=\"Location\">{{ item.location}}</md-table-cell>\r\n                  <md-table-cell md-label=\"Shop Owner\">{{ item.shop_owner_name }}</md-table-cell>\r\n                  <md-table-cell md-label=\"Business Reg. No\">{{ item.businessRegNo}}</md-table-cell>\r\n                  <md-table-cell md-label=\"Email\">{{ item.email }}</md-table-cell>\r\n                  <md-table-cell md-label=\"NIC\">{{ item.nic}}</md-table-cell>\r\n                  <md-table-cell md-label=\"Mobile No\">{{ item.mobile_no }}</md-table-cell>\r\n                  <md-table-cell md-label>\r\n                    <p style=\"margin:0;\">\r\n                      <a href>\r\n                        <button\r\n                          type=\"button\"\r\n                          class=\"btn btn-outline-secondary btn-sm\"\r\n                          id=\"ok\"\r\n                          style=\"border:0;\"\r\n                           @click=\"acceptPendingShop(item.uuid)\"\r\n                        >\r\n                          <i class=\"material-icons\">done</i>\r\n                        </button>\r\n                      </a>\r\n\r\n                      <a href>\r\n                        <button\r\n                          type=\"button\"\r\n                          class=\"btn btn-outline-danger btn-sm\"\r\n                          id=\"delete\"\r\n                          style=\"border:0;\"\r\n                          onclick=\"return confirm('Are you sure you want to delete?')\"\r\n                           @click=\"deletePendingShop(item.uuid)\"\r\n                        >\r\n                        \r\n                          <i class=\"material-icons\">delete_forever</i>\r\n                        </button>\r\n                      </a>\r\n                    </p>\r\n                  </md-table-cell>\r\n                </md-table-row>\r\n              </md-table>\r\n            </div>\r\n          </md-card-content>\r\n        </md-card>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AuthService from \"./auth.service\";\r\nexport default {\r\n  props: {\r\n    tableHeaderColor: {\r\n      type: String,\r\n      default: \"\"\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      pending_shops:[],\r\n       successful: false,\r\n      message: \"\"\r\n    };\r\n  },\r\n\r\n   mounted() {\r\n    this.retrievePendingShops();\r\n  },\r\n\r\n  methods: {\r\n    retrievePendingShops() {\r\n      AuthService.getAllPendingShops()\r\n        .then(response => {\r\n          this.pending_shops = response.data;\r\n          console.log(response.data);\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n    },\r\n\r\n    acceptPendingShop(uuid){\r\n      console.log(uuid);\r\n       this.message = \"\";\r\n       AuthService.acceptPendingShop(uuid)\r\n        .then(data => {\r\n              this.message = data.message;\r\n              this.successful = true;\r\n            },\r\n            error => {\r\n              this.message =\r\n                (error.response && error.response.data) ||\r\n                error.message ||\r\n                error.toString();\r\n              this.successful = false;\r\n            }\r\n        );\r\n    },\r\n    deletePendingShop(uuid){\r\n      console.log(uuid);\r\n       this.message = \"\";\r\n       AuthService.deletePendingShop(uuid)\r\n        .then(data => {\r\n              this.message = data.message;\r\n              this.successful = true;\r\n            },\r\n            error => {\r\n              this.message =\r\n                (error.response && error.response.data) ||\r\n                error.message ||\r\n                error.toString();\r\n              this.successful = false;\r\n            }\r\n        );\r\n    }\r\n\r\n  }\r\n\r\n \r\n  \r\n  \r\n    \r\n \r\n};\r\n</script>\r\n"]}]}